{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formElement = document.querySelector('.feedback-form');\nlet formData = { email: '', message: '' };\nconst LS_KEY = 'feedback-form-state';\n\nformElement.addEventListener('input', onDataform);\ndocument.addEventListener('DOMContentLoaded', renderPage);\nformElement.addEventListener('submit', onSubForm);\n\nfunction onDataform() {\n  const { email, message } = newForm(formElement);\n\n  formData = {\n    email: email,\n    message: message,\n  };\n\n  const json = JSON.stringify(formData);\n  localStorage.setItem(LS_KEY, json);\n}\n\nfunction renderPage() {\n  const lsData = localStorage.getItem(LS_KEY);\n  const result = JSON.parse(lsData);\n\n  if (result === null) {\n    return;\n  }\n\n  const formEle = formElement.elements;\n\n  try {\n    for (const key in result) {\n      formEle[key].value = result[key];\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction onSubForm(event) {\n  event.preventDefault();\n  const { email, message } = newForm(formElement);\n\n  formData = {\n    email: email,\n    message: message,\n  };\n\n  for (const key in formData) {\n    if (formData[key] === '') {\n      return alert('Fill please all fields');\n    }\n  }\n\n  console.log(formData);\n\n  localStorage.removeItem(LS_KEY);\n  event.target.reset();\n}\n\nfunction newForm(formElem) {\n  const newForm = new FormData(formElem);\n  const email = newForm.get('email').trim();\n  const message = newForm.get('message').trim();\n\n  return { email, message };\n}\n"],"names":["formElement","formData","LS_KEY","onDataform","renderPage","onSubForm","email","message","newForm","json","lsData","result","formEle","key","error","event","formElem"],"mappings":"wFAAA,MAAMA,EAAc,SAAS,cAAc,gBAAgB,EAC3D,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACvC,MAAMC,EAAS,sBAEfF,EAAY,iBAAiB,QAASG,CAAU,EAChD,SAAS,iBAAiB,mBAAoBC,CAAU,EACxDJ,EAAY,iBAAiB,SAAUK,CAAS,EAEhD,SAASF,GAAa,CACpB,KAAM,CAAE,MAAAG,EAAO,QAAAC,CAAS,EAAGC,EAAQR,CAAW,EAE9CC,EAAW,CACT,MAAOK,EACP,QAASC,CACb,EAEE,MAAME,EAAO,KAAK,UAAUR,CAAQ,EACpC,aAAa,QAAQC,EAAQO,CAAI,CACnC,CAEA,SAASL,GAAa,CACpB,MAAMM,EAAS,aAAa,QAAQR,CAAM,EACpCS,EAAS,KAAK,MAAMD,CAAM,EAEhC,GAAIC,IAAW,KACb,OAGF,MAAMC,EAAUZ,EAAY,SAE5B,GAAI,CACF,UAAWa,KAAOF,EAChBC,EAAQC,CAAG,EAAE,MAAQF,EAAOE,CAAG,CAElC,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAEA,SAAST,EAAUU,EAAO,CACxBA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAT,EAAO,QAAAC,CAAS,EAAGC,EAAQR,CAAW,EAE9CC,EAAW,CACT,MAAOK,EACP,QAASC,CACb,EAEE,UAAWM,KAAOZ,EAChB,GAAIA,EAASY,CAAG,IAAM,GACpB,OAAO,MAAM,wBAAwB,EAIzC,QAAQ,IAAIZ,CAAQ,EAEpB,aAAa,WAAWC,CAAM,EAC9Ba,EAAM,OAAO,OACf,CAEA,SAASP,EAAQQ,EAAU,CACzB,MAAMR,EAAU,IAAI,SAASQ,CAAQ,EAC/BV,EAAQE,EAAQ,IAAI,OAAO,EAAE,KAAI,EACjCD,EAAUC,EAAQ,IAAI,SAAS,EAAE,KAAI,EAE3C,MAAO,CAAE,MAAAF,EAAO,QAAAC,EAClB"}